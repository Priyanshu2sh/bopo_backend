{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Set New Password - BOPO</title>

     <link rel="stylesheet" href="{% static 'bopo_admin/css/pass_reset.css' %}"> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
    <div class="colorful-line"></div>

    <div class="center-wrapper">
        <div class="login-header">
            <h2><span>Set a New Password</span></h2>
            <p>Please enter your new password below.</p>

            <div class="login-container">
                <form method="post">
                    {% csrf_token %}
                    {% for field in form %}
                        <div class="form-group">
                            <label for="{{ field.id_for_label }}">{{ field.label }}</label>
                            <div class="input-wrapper">
                                {{ field }}
                                {% if field.field.widget.input_type == "password" %}
                                <span class="toggle-password" onclick="togglePasswordVisibility('{{ field.id_for_label }}', this)">
                                    <i class="fa-solid fa-eye-slash"></i>
                                </span>

                                {% endif %}
                                 {% if field.errors %}
                                    <div class="custom-alert">
                                        <span class="icon">⚠️</span>
                                        {{ field.errors|striptags }}
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                    {% endfor %}
                    <button type="submit">Change Password</button>
                </form>
            </div>

            <div class="back-to-login">
                <a href="{% url 'login' %}"><i class="fa-solid fa-arrow-left"></i> Back to Login</a>
            </div>
        </div>
    </div>

    <div class="footer-text">
        &copy; 2025 BOPO. All rights reserved.
    </div>

  <script>
    function togglePasswordVisibility(fieldId, toggleElement) {
        const input = document.getElementById(fieldId);
        const icon = toggleElement.querySelector("i");

        if (input.type === "password") {
            input.type = "text";
            icon.classList.remove("fa-eye-slash");
            icon.classList.add("fa-eye");
        } else {
            input.type = "password";
            icon.classList.remove("fa-eye");
            icon.classList.add("fa-eye-slash");
        }
    }
</script>

</body>
</html>
