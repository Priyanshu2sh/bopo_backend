{% extends "bopo_admin/base.html" %}

{% block content %}
{% load static %}
<link rel="stylesheet" href="{% static 'bopo_admin/css/customer.css' %}">

<div class="customer-container">
    <div class="customer-header">
        <h2>Customer List</h2>
        <div class="customer-buttons">
            <button class="add-customer-btn" onclick="window.location.href='{% url 'add_customer' %}'">
                + Add Customer
            </button>
            <button class="send-customer-btn" onclick="window.location.href='{% url 'send_customer_notifications' %}'">
                + Send Notifications
            </button>
        </div>
    </div>
    

    <div class="customer-list">
        <div class="customer-table">
            <input type="text" class="search-box" id="search-corporate" onkeyup="filterTable('corporate-table', 'search-corporate')" placeholder="Search corporate customers...">
            <table id="corporate-table">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Project ID</th>
                        <th>Customer ID</th>
                        <th>Contact Person</th>
                        <th>Mobile Number</th>
                        <th>City</th>
                        <th>Verified</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>1</td>
                        <td>1</td>
                        <td>Demo contact</td>
                        <td>9090909090</td>
                        <td>Pune</td>
                        <td>true</td>
                        <td>
                            <button>‚úèÔ∏è</button>
                            <button>üóëÔ∏è</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- JavaScript for Search Filtering -->
<script>
function filterTable(tableId, searchBoxId) {
    let input = document.getElementById(searchBoxId);
    let filter = input.value.toLowerCase();
    let table = document.getElementById(tableId);
    let rows = table.getElementsByTagName("tr");

    for (let i = 1; i < rows.length; i++) { // Skip header row
        let rowText = rows[i].innerText.toLowerCase();
        if (rowText.includes(filter)) {
            rows[i].style.display = "";
        } else {
            rows[i].style.display = "none";
        }
    }
}
</script>

{% endblock %}
