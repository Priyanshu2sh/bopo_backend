{% extends "bopo_admin/base.html" %}
{% block content %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merchant Top-Up</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="{% static 'bopo_admin/css/merchant_topup.css' %}">
</head>

<body>
    <div class="topup-back-btn">
        <a href="{% url 'merchant_credentials' %}" class="topup-back-back-btn-submit">
            <i class="fa fa-arrow-left"></i> Back 
        </a>
    </div>
    <h1 class="heading">Merchant Top-Up Limit</h1>
    <div class="merchant_topup">
     
        <form method="post">
            {% csrf_token %}
        
            <div class="dropdown-container">


             {% comment %} <div class="form-group">
                <label for="project">Select Project:</label>
                <select id="project" name="project" required>
                    <option value="">-- Select a Project --</option>
                    <option value="project1">Project 1</option>
                    <option value="project2">Project 2</option>
                    <option value="project3">Project 3</option>
                </select>
            </div> {% endcomment %}
            
                <div class="form-group">
                    <label for="merchant">Select Merchant:</label>
                    <select id="merchant" name="merchant" required>
                        <option value="">-- Select a Merchant --</option>
                        <option value="merchant1">Merchant 1</option>
                        <option value="merchant2">Merchant 2</option>
                        <option value="merchant3">Merchant 3</option>
                    </select>
                </div>
            </div>
        
            <div class="form-container">
                <!-- Left Form -->
                <div class="form-wrapper">
                    <div class="form-group">
                        <label for="topup_amount">Top-Up Paid Amount:</label>
                        <input type="number" id="topup_amount" name="topup_amount" required>
                    </div>
        
                    <div class="form-group">
                        <label for="transaction_id">Transaction ID:</label>
                        <input type="text" id="transaction_id" name="transaction_id" required>
                    </div>
        
                    <div class="form-group">
                        <label for="topup_points">Top-Up Points:</label>
                        <input type="number" id="topup_points" name="topup_points" required>
                    </div>
                </div>
        
                <!-- Right Box -->
                <div class="right-box">
                    <div class="form-group">
                        <label for="payment_mode">Payment Mode:</label>
                        <select id="payment_mode" name="payment_mode" required onchange="showPaymentFields()">
                            <option value="">-- Select Payment Method --</option>
                            <option value="upi">UPI</option>
                            <option value="net_banking">Net Banking</option>
                            <option value="credit_card">Credit Card</option>
                            <option value="debit_card">Debit Card</option>
                        </select>
                    </div>
        
                    <div id="upi_fields" class="payment-fields">
                        <div class="form-group">
                            <label for="upi_id">UPI ID:</label>
                            <input type="text" id="upi_id" name="upi_id">
                        </div>
                    </div>
                </div>
            </div>
        
            <button type="submit" class="topup-btn-submit">Submit</button>
        </form>
        
    </div>


    
 <!-- Toast Notification -->
 <div id="toast" class="toast-container">
    <i class="fa fa-check-circle"></i>
    <span class="toast-message">Top-Up Limit send successfully!</span>
</div>

<script>

    function showPaymentFields() {
        let paymentMethod = document.getElementById("payment_mode").value;
        
        // Hide all payment-specific fields initially
        document.getElementById("upi_fields").style.display = "none";
       // document.getElementById("net_banking_fields").style.display = "none";
       // document.getElementById("card_fields").style.display = "none";

        // Show fields based on selection
        if (paymentMethod === "upi") {
            document.getElementById("upi_fields").style.display = "block";
        //} else if (paymentMethod === "net_banking") {
        //    document.getElementById("net_banking_fields").style.display = "block";
       // } else if (paymentMethod === "credit_card" || paymentMethod === "debit_card") {
        //    document.getElementById("card_fields").style.display = "block";
        }
    }



    document.addEventListener("DOMContentLoaded", function () {
        document.querySelector("form").addEventListener("submit", function (event) {
            event.preventDefault(); 

            let toast = document.getElementById("toast");
            toast.classList.add("toast-show");

            setTimeout(function () {
                toast.classList.add("toast-hide");
                setTimeout(() => {
                    toast.classList.remove("toast-show", "toast-hide");
                    event.target.submit();
                }, 500);
            }, 3000);
        });
    });


    
</script>

</body>
</html>
{% endblock %}
