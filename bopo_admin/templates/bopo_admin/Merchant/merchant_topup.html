{% extends "bopo_admin/base.html" %}
{% block content %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merchant Top-Up</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="{% static 'bopo_admin/css/merchant_topup.css' %}">
</head>

<body>
    <h1 class="heading">Merchant Top-Up Limit</h1>
    <div class="merchant_topup">
     

        <!-- Dropdowns for Project and Merchant -->
        <div class="dropdown-container">
            <div class="form-group">
                <label for="project">Select Project:</label>
                <select id="project" name="project" required>
                    <option value="">-- Select a Project --</option>
                    <option value="project1">Project 1</option>
                    <option value="project2">Project 2</option>
                    <option value="project3">Project 3</option>
                </select>
            </div>

            <div class="form-group">
                <label for="merchant">Select Merchant:</label>
                <select id="merchant" name="merchant" required>
                    <option value="">-- Select a Merchant --</option>
                    <option value="merchant1">Merchant 1</option>
                    <option value="merchant2">Merchant 2</option>
                    <option value="merchant3">Merchant 3</option>
                </select>
            </div>
        </div>

        <!-- Left and Right Box Wrapper -->
        <div class="form-container">
            <!-- Left Form -->
            <div class="form-wrapper">
                <form method="post" class="topup-form">
                    {% csrf_token %}

                    <div class="form-group">
                        <label for="merchant_id">Merchant ID:</label>
                        <input type="text" id="merchant_id" name="merchant_id" required>
                    </div>

                    <div class="form-group">
                        <label for="topup_amount">Top-Up Paid Amount:</label>
                        <input type="number" id="topup_amount" name="topup_amount" required>
                    </div>

                    <div class="form-group">
                        <label for="transaction_id">Transaction ID:</label>
                        <input type="text" id="transaction_id" name="transaction_id" required>
                    </div>
                </form>
            </div>

            <!-- Right Box for Extra Inputs -->
            <div class="right-box">
                <div class="form-group">
                    <label for="topup_points">Top-Up Points:</label>
                    <input type="number" id="topup_points" name="topup_points" required>
                </div>

                <div class="form-group">
                    <label for="bank_details">Bank Details:</label>
                    <select id="bank_details" name="bank_details" required onchange="showPaymentFields()">
                        <option value="">-- Select Payment Method --</option>
                        <option value="upi">UPI</option>
                        <option value="net_banking">Net Banking</option>
                        <option value="credit_card">Credit Card</option>
                        <option value="debit_card">Debit Card</option>
                    </select>
                </div>

                <!-- Payment-Specific Input Fields -->
                <div id="upi_fields" class="payment-fields">
                    <div class="form-group">
                        <label for="upi_id">UPI ID:</label>
                        <input type="text" id="upi_id" name="upi_id">
                    </div>
                </div>

                <div id="net_banking_fields" class="payment-fields">
                    <div class="form-group">
                        <label for="bank_name">Bank Name:</label>
                        <input type="text" id="bank_name" name="bank_name">
                    </div>
                    <div class="form-group">
                        <label for="account_number">Account Number:</label>
                        <input type="text" id="account_number" name="account_number">
                    </div>
                </div>

                <div id="card_fields" class="payment-fields">
                    <div class="form-group">
                        <label for="card_number">Card Number:</label>
                        <input type="text" id="card_number" name="card_number">
                    </div>
                    <div class="form-group">
                        <label for="card_expiry">Expiry Date:</label>
                        <input type="month" id="card_expiry" name="card_expiry">
                    </div>
                   
                </div>
            </div>
        </div>

    </div>

    <!-- JavaScript -->
    <script>
        function showPaymentFields() {
            let paymentMethod = document.getElementById("bank_details").value;
            
            // Hide all payment-specific fields initially
            document.getElementById("upi_fields").style.display = "none";
            document.getElementById("net_banking_fields").style.display = "none";
            document.getElementById("card_fields").style.display = "none";

            // Show fields based on selection
            if (paymentMethod === "upi") {
                document.getElementById("upi_fields").style.display = "block";
            } else if (paymentMethod === "net_banking") {
                document.getElementById("net_banking_fields").style.display = "block";
            } else if (paymentMethod === "credit_card" || paymentMethod === "debit_card") {
                document.getElementById("card_fields").style.display = "block";
            }
        }
    </script>

</body>
</html>
{% endblock %}
